{"meta":{"title":"燃情岁月","subtitle":null,"description":null,"author":"Marco Lee","url":"http://yoursite.com"},"pages":[{"title":"","date":"2017-02-18T04:23:06.000Z","updated":"2017-02-15T12:04:40.000Z","comments":true,"path":"404.html","permalink":"http://yoursite.com/404.html","excerpt":"","text":"404 Oops! You're lost. We can not find the page you're looking for. Return home or try the search bar below."},{"title":"","date":"2017-02-18T04:23:06.000Z","updated":"2017-02-15T12:04:40.000Z","comments":true,"path":"index.html","permalink":"http://yoursite.com/index.html","excerpt":"","text":"We are here to help you. Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Multipurpose Template Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Well Documented Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Responsive Design Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. We're committed to our process. Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste. Goal definition Lorem ipsum dolor sit amet sit consectetur adipisicing eiusmod tempor. Analyse Lorem ipsum dolor sit amet sit consectetur adipisicing eiusmod tempor. Implementation Lorem ipsum dolor sit amet sit consectetur adipisicing eiusmod tempor. Recent Work Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde voluptatem. Sed unde omnis iste natus error sit voluptatem. Amazing Project Agenda corp. Amazing Project Agenda corp. Amazing Project Agenda corp. Amazing Project Agenda corp. Amazing Project Agenda corp. Amazing Project Agenda corp. Amazing Project Agenda corp. Amazing Project Agenda corp. Multipurpose Documented Responsive Clean & Fresh Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Cosby sweater eu banh mi, qui irure terry richardson ex squid Aliquip placeat salvia cillum iphone. Read more Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS salvia.. Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie etsy retro mlkshk vice blog. Scenester cred you probably haven't heard of them, vinyl craft beer blog stumptown. Pitchfork sustainable tofu synth chambray yr. Trust fund seitan letterpress, keytar raw denim keffiyeh etsy art party before they sold out master cleanse gluten-free squid scenester freegan cosby sweater. Fanny pack portland seitan DIY, art party locavore wolf cliche high life echo park Austin. Cred vinyl keffiyeh DIY salvia PBR, banh mi before they sold out farm-to-table VHS viral locavore cosby sweater. Lomo wolf viral, mustache readymade thundercats keffiyeh craft beer marfa ethical. Wolf salvia freegan, sartorial keffiyeh echo park vegan. Denim you probably haven't heard of. Lorem ipsum dolor met consectetur adipisicing sit amet, consectetur adipisicing elit, of them jean shorts sed magna aliqua. Lorem ipsum dolor met. Lina Mars Commercial Director Raw denim you Mustache cliche tempor, williamsburg carles vegan helvetica probably haven't heard of them jean shorts austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Kate Ford Commercial Director Reprehenderit butcher stache cliche tempor, williamsburg carles vegan helvetica.retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid Aliquip placeat salvia cillum iphone. Jake Witson Commercial Director Metronic - The Most Complete &amp; Popular Admin &amp; Frontend Theme Preview Admin Our Clients Lorem dipsum folor margade sitede lametep eiusmod psumquis dolore."},{"title":"About Us","date":"2015-11-16T17:00:51.000Z","updated":"2017-02-15T12:04:40.000Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"Vero eos et accusamus At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi. Idest laborum et dolorum fuga. Et harum quidem rerum et quas molestias excepturi sint occaecati facilis est et expedita distinctio lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut non libero consectetur adipiscing elit magna. Sed et quam lacus. Officia deserunt molliti Consectetur adipiscing Deserunt fpicia Officia deserunt molliti Consectetur adipiscing Deserunt fpicia Excepturi sint occaecati cupiditate non provident Ducimus qui blanditiis praesentium voluptatum Ut non libero consectetur adipiscing elit magna Client Testimonials Denim you probably haven't heard of. Lorem ipsum dolor met consectetur adipisicing sit amet, consectetur adipisicing elit, of them jean shorts sed magna aliqua. Lorem ipsum dolor met consectetur adipisicing sit amet do eiusmod dolore. Lina Mars Commercial Director Raw denim you Mustache cliche tempor, williamsburg carles vegan helvetica probably haven't heard of them jean shorts austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Kate Ford Commercial Director Reprehenderit butcher stache cliche tempor, williamsburg carles vegan helvetica.retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid Aliquip placeat salvia cillum iphone. Jake Witson Commercial Director Our Skills UI Design 90% Wordpress CMS 60% HTML/CSS &amp; JavaScript 75% Lina Doe Chief Executive Officer / CEO Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem... Carles Puyol Chief Executive Officer / CEO Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem... Andres Iniesta Chief Executive Officer / CEO Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem... Jessica Alba Chief Executive Officer / CEO Donec id elit non mi porta gravida at eget metus. Fusce dapibus, justo sit amet risus etiam porta sem..."},{"title":"Contact","date":"2015-11-29T13:00:03.000Z","updated":"2017-02-15T12:04:40.000Z","comments":true,"path":"contact/index.html","permalink":"http://yoursite.com/contact/index.html","excerpt":"","text":"Let us help Lorem ipsum sdolor sic amit, bolero carles. Name Email Message Send Cancel"},{"title":"Login","date":"2017-02-18T04:23:06.000Z","updated":"2017-02-15T12:04:40.000Z","comments":true,"path":"login/index.html","permalink":"http://yoursite.com/login/index.html","excerpt":"","text":"Email * Password * Forget Password? Login or login using: Important Information Duis autem vel eum iriure at dolor vulputate velit esse vel molestie at dolore. More details"},{"title":"Projects","date":"2015-11-29T13:00:03.000Z","updated":"2017-02-15T12:04:40.000Z","comments":true,"path":"projects/index.html","permalink":"http://yoursite.com/projects/index.html","excerpt":"","text":"All UI Design Web Development Photography Wordpress and Logo Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back Cascusamus et iusto odio At vero eos et accusamus et iusto odio digniss imos duc sasdimus qui sint blanditiis prae sentium voluptatum deleniti atque corrupti quos dolores. Project Name Lorem ipsum dolor sit amet, dolore eiusmod quis tempor incididunt ut et dolore Ut veniam unde nostrudlaboris. Sed unde omnis iste natus error sit voluptatem. Lorem ipsum dolor sit amet, consectetuer adipiscing tempor Adipiscing Get it FREE HTML5/CSS3 Web Deisgn Web Development Shoping Cart Free Storage Cloud Hosting Free Support Awesome UI Visit Project Back"}],"posts":[{"title":"基本Spring Boot 的 Spring Security CAS SSO 配置","slug":"spring-boot-security-cas-sso","date":"2017-02-18T04:21:42.000Z","updated":"2017-03-04T17:17:57.000Z","comments":true,"path":"2017/02/18/spring-boot-security-cas-sso/","link":"","permalink":"http://yoursite.com/2017/02/18/spring-boot-security-cas-sso/","excerpt":"","text":"【原创文章，转载请注明出处】 最近在整理公司的几个内部系统的认证和授权，这些子系统是用php开发的，单点登陆和权限管理都做了，但是架构和设计上有一些局限，导致本博用Java开发的新的子系统无法接入。随着公司技术方向往Java微服务架构转移，之前老的那一套php搞的认证与授权也决定推倒从来，用Java的这一套来搞。 今天主要主要聊一下单点登陆系统的整合，单点登陆这种比较成熟的技术，有很多开源产品可以使用。而本博的原则也是能用开源产品就尽量不要自己重头写，原因很简单： 开源产品在需求上考虑的比你要周全 公司自己不需要去维护一套代码，可以减少成本 单点登录开源产品网上有很多，综合评估下来肯定使用CAS，因为他历史悠久、功能强大、坚持迭代更新中。本文不详情介绍如何搭建CAS单点登录服务了，因为网上已经有很多相关的博文了，本博在搭建CAS时大多参照了Endzz的这篇博文。 现在是Spring Boot的时代，本博在工作中开发的Web应该也都是基于Spring Boot构建的，因为她实在是太快捷太方便了！Web的授权访问控制使用Spring SecuritySpring家族的一员猛将，本篇博文主要聊一下如何基于Spring Boot把Spring Security与CAS单点登录整合起来，接下来进入正题。 首先给项目添加Spring Security依赖配置(本博使用Gradle构建):123456dependencies &#123; compile('org.springframework.boot:spring-boot-starter-web') compile('org.springframework.boot:spring-boot-starter-security') compile('org.springframework.security:spring-security-cas') testCompile('org.springframework.boot:spring-boot-starter-test')&#125; 其中spring-security-cas这个依赖很关键，她内部已经实现了整合逻辑，而我们要做的仅仅是配置。 然后添加Security配置文件WebSecurityConfig.java: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100/** * Spring Security configs. * * @author marco */@Configuration@EnableWebSecurity@EnableGlobalMethodSecurity(jsr250Enabled = true)public class WebSecurityConfig extends WebSecurityConfigurerAdapter &#123; // CAS单点登录服务地址 private String SSO_URL = \"http://sso.xxx.com\"; @Autowired private UserDetailsService userDetailsService; /** * Spring Security 基本配置 * * @param httpSecurity * @throws Exception */ @Override protected void configure(HttpSecurity httpSecurity) throws Exception &#123; httpSecurity.exceptionHandling().accessDeniedPage(\"/error/403\") // 无权访问时转向页面 .authenticationEntryPoint(getCasAuthenticationEntryPoint()) .and().addFilter(casAuthenticationFilter()) .addFilterBefore(singleSignOutFilter(), CasAuthenticationFilter.class) .addFilterBefore(logoutFilter(), LogoutFilter.class) .authorizeRequests() .antMatchers(\"/js/**\", \"/css/**\", \"/imgs/**\").permitAll() .anyRequest().authenticated() .and() .formLogin().loginPage(\"/login\").permitAll() .and().logout().permitAll(); &#125; /** * 配置CAS登录页面 */ public CasAuthenticationEntryPoint getCasAuthenticationEntryPoint() &#123; CasAuthenticationEntryPoint point = new CasAuthenticationEntryPoint(); point.setLoginUrl(SSO_URL + \"login\"); point.setServiceProperties(serviceProperties()); return point; &#125; /** * 认证过滤器 */ public CasAuthenticationFilter casAuthenticationFilter() throws Exception &#123; CasAuthenticationFilter filter = new CasAuthenticationFilter(); filter.setAuthenticationManager(authenticationManager()); return filter; &#125; public SingleSignOutFilter singleSignOutFilter() &#123; SingleSignOutFilter filter = new SingleSignOutFilter(); filter.setCasServerUrlPrefix(SSO_URL); filter.setIgnoreInitConfiguration(true); return filter; &#125; public LogoutFilter logoutFilter() &#123; LogoutFilter filter = new LogoutFilter(SSO_URL + \"logout\", new SecurityContextLogoutHandler()); return filter; &#125; @Bean public CasAuthenticationProvider casAuthenticationProvider() &#123; CasAuthenticationProvider provider = new CasAuthenticationProvider(); provider.setTicketValidator(cas30ServiceTicketValidator()); provider.setServiceProperties(serviceProperties()); provider.setKey(\"an_id_for_this_auth_provider_only\"); provider.setAuthenticationUserDetailsService(userDetailsByNameServiceWrapper()); return provider; &#125; private ServiceProperties serviceProperties() &#123; ServiceProperties properties = new ServiceProperties(); properties.setService(\"http://localhost:8080/login/cas\"); properties.setSendRenew(false); return properties; &#125; /** * 当CAS认证成功时, Spring Security会自动调用此类对用户进行授权 */ private UserDetailsByNameServiceWrapper userDetailsByNameServiceWrapper() &#123; UserDetailsByNameServiceWrapper wrapper = new UserDetailsByNameServiceWrapper(); wrapper.setUserDetailsService(userDetailsService); return wrapper; &#125; private Cas20ServiceTicketValidator cas30ServiceTicketValidator() &#123; Cas20ServiceTicketValidator validator = new Cas20ServiceTicketValidator(SSO_URL); return validator; &#125;&#125; UserDetailsService是定义获取用户权限信息的接口，以下是UserDetailsService的实现类，这里应该去查询数据库或者调用授权API获取用户权限，本博这里简单做一下示例代码实现： 12345678910111213@Service(\"userDetailsService\")public class UserDetailsServiceImpl implements UserDetailsService &#123; @Override public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123; List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(); GrantedAuthority admin = new SimpleGrantedAuthority(\"ROLE_ADMIN\"); authorities.add(admin); User marco = new User(\"Marco\", \"111111\", authorities); return marco; &#125;&#125; 至此Spring Security CAS已经配置完了，后续的HTML或者Controller中使用Spring Security标签或者JSR250标签即可对页面、restful API进去权限控制。 12345@RolesAllowed(\"ROLE_ADMIN\")@Controller@RequestMapping(\"/user\")public class UserController &#123;&#125; 本篇博文代码地址：https://github.com/MTequila/demos/tree/master/spring-security-sso","categories":[{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://yoursite.com/categories/Spring-Boot/"}],"tags":[{"name":"Spring","slug":"Spring","permalink":"http://yoursite.com/tags/Spring/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://yoursite.com/tags/Spring-Boot/"},{"name":"Spring Security","slug":"Spring-Security","permalink":"http://yoursite.com/tags/Spring-Security/"},{"name":"CAS","slug":"CAS","permalink":"http://yoursite.com/tags/CAS/"},{"name":"SSO","slug":"SSO","permalink":"http://yoursite.com/tags/SSO/"}]}]}